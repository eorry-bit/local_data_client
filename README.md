# Local Data Client

一个用于本地遥测数据管理和可视化的应用程序。

## 项目简介

Local Data Client 是一个基于Rust开发的本地数据客户端应用，专门用于处理、分析和可视化遥测数据。该应用提供了Web界面，允许用户通过浏览器访问和交互式地探索遥测数据。

## 功能特性

- **数据筛选**: 支持按资产名称、设备名称、目标名称和数据类型进行筛选
- **时间范围选择**: 支持选择特定时间范围内的数据
- **数据异常值处理**: 支持使用IQR或Z-Score方法移除异常值
- **数据采样**: 支持多种采样方法(首值、末值、平均值、最大值、最小值)
- **自定义过滤**: 支持设置最小值、最大值以及排除特定值
- **时间段过滤**: 支持按每天的特定时间段筛选数据
- **数据可视化**: 使用Plotly.js进行交互式数据可视化
- **数据导出**: 支持将数据导出为Excel格式

## 技术栈

### 后端
- **语言**: Rust
- **Web框架**: Axum
- **异步运行时**: Tokio
- **数据库**: DuckDB
- **序列化/反序列化**: Serde

### 前端
- **数据可视化**: Plotly.js
- **Excel处理**: xlsx.js

## 安装和运行

### 从源码构建

1. 确保已安装Rust和Cargo
2. 克隆此仓库
3. 在项目根目录执行:
```
cargo build --release
```
4. 运行编译后的程序:
```
./target/release/local_data_client
```

### Windows用户预构建版本

1. 下载release文件夹中的`windows.zip`
2. 解压缩文件
3. 双击`START.bat`启动应用
4. 在浏览器中访问`http://127.0.0.1:3000`

## API接口

应用程序提供了以下REST API端点:

- `GET /api/filters` - 获取所有可用的筛选选项
- `GET /api/devices` - 获取特定资产下的所有设备
- `GET /api/targets` - 获取特定设备下的所有目标
- `GET /api/telemetry` - 获取符合条件的遥测数据

## 数据结构

系统处理的遥测数据包含以下字段:

- `timestamp` - 数据记录时间戳
- `asset_name` - 资产名称
- `device_name` - 设备名称
- `target_name` - 目标名称
- `key_name` - 数据类型
- `value` - 数据值

## 跨平台支持

- 支持Windows和Linux系统
- Windows版本包括所有必要的DLL文件
- 提供便捷的启动脚本

## 使用说明

1. START.bat启动应用后，在浏览器中访问`http://127.0.0.1:3000`
2. 使用界面顶部的筛选条件选择要查看的数据
3. 设置时间范围和其他筛选条件
4. 点击"加载数据"按钮获取数据
5. 在图表区域查看数据可视化结果
6. 根据需要导出数据或调整显示参数


